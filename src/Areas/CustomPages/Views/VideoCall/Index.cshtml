@using Weavy.Areas.CustomPages.Controllers
@model Weavy.Areas.CustomPages.Models.VideoCallViewModel
@{
    Title = Model.RoomName.Split('/')[1];
}

<style>
    html, body, main {
        height: 100%;
    }
</style>

@section navbar_left {

    <div class="navbar-icons">
        <a href="@(Url.Action<MyHomeController>(c => c.AviationClubhouse()))">@Html.Partial("_AppIcon", 34)</a>        
    </div>
}

<div style="height: 100%; width: 100%; display: flex; flex-direction: column">
    <div style="flex:1" id="meet-container">

    </div>
</div>
<script src='https://8x8.vc/libs/external_api.min.js'></script>

<script>
    const domain = '8x8.vc';
    const options = {
        roomName: '@Model.RoomName',
        configOverwrite: {
            disableInviteFunctions: true,
        },
        jwt: '@Model.Token',
        parentNode: document.querySelector('#meet-container')
    };
    const api = new JitsiMeetExternalAPI(domain, options);
</script>
